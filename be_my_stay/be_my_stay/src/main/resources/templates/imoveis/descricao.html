<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar | Be my Stay Administradores</title>

    <link rel="icon" type="image/png" th:href="@{/assets/Logo.png}">
    <link rel="stylesheet" th:href="@{/css/descricao.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link
            href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
            rel="stylesheet">
</head>

<body>


<main>
    <div class="topo">
        <div class="titulo_topo">
            <h1 th:text="${imovel.titulo}"></h1>
        </div>
        <div class="info_topo">
            <p
                    th:text="${imovel.endereco != null ? imovel.endereco.cidade + ', ' + imovel.endereco.estado : 'Local não informado'}">
            </p>
        </div>
    </div>

    <div class="fotos">
        <div class="galeria">
            <img th:each="img : ${imovel.imagens}" th:src="@{/uploads/{arquivo}(arquivo=${img.caminho})}"
                 alt="Imagem do imóvel">
        </div>
    </div>
    <p class="titulo" th:text="${imovel.titulo}"></p>
    <div class="descricao">

        <p th:text="${imovel.qtdHospede == 1
    ? '1 hóspede • ' + imovel.qtdBanheiros + ' banheiros'
    : imovel.qtdHospede + ' hóspedes • ' + imovel.qtdBanheiros + ' banheiros'}">
        </p>


        <p th:text="${imovel.descricaoCompleta}"></p>

    </div>
    <h4>Horário Check In:</h4>
    <p th:text="${imovel.entregaChaves}"></p>
    <h4>Horário Check Out:</h4>
    <p th:text="${imovel.checkOut}"></p>
    <p class="titulo"> O que esse lugar oferece </p>
    <div class="secao_inferior">

        <div class="lista">
            <label th:each="c : ${imovel.comodidade}">
                <img th:src="@{/uploads/{img}(img=${c.icone })}" alt="Ícone" width="40">
                <span th:text="${c.nome}"></span>
            </label>
        </div>

        <div class="reserva_lateral">
            <form th:action="@{/reservas/reservar/{id}/confirmar(id=${imovel.id})}" method="post">
                <div class="card_reserva">
                    <div class="card_conteudo">

                        <p class="diaria_texto"
                           th:text="${'R$ ' + imovel.precoDiaria + ' / Diária'}"></p>

                        <div class="linha_datas">
                            <div class="campo">
                                <label>Check-In</label>
                                <input type="date"
                                       name="checkin"
                                       id="checkin"
                                       th:attr="min=${hoje}, max=${imovel.disponibilidadeFim}"
                                       required>
                            </div>

                            <div class="campo">
                                <label>Check-out</label>
                                <input type="date"
                                       name="checkout"
                                       id="checkout"
                                       th:attr="min=${hoje}, max=${imovel.disponibilidadeFim}"
                                       required>
                            </div>
                        </div>

                        <div class="campo">
                            <input placeholder="Hóspedes"
                                   type="number"
                                   name="qtdHospede"
                                   th:attr="max=${imovel.qtdHospede}, min=1"
                                   required>
                        </div>

                        <p th:if="${erro}" th:text="${erro}" class="erro"></p>

                        <button type="submit" class="btn_reservar">
                            Reservar
                        </button>

                    </div>
                </div>
            </form>
        </div>

    </div>

</main>
</body>

</html>